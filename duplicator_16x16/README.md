# Duplicator 16×16 Mode

This directory contains the 16×16 tile version of the Duplicator game.

## Overview

The 16×16 version displays each game tile as a 2×2 block of characters (16×16 pixels), making the graphics 4× larger and much easier to see on screen.

## Key Features

- **Pre-scaled graphics**: Graphics are scaled from 8×8 to 16×16 at build time using Node.js
- **No runtime overhead**: All scaling is done by `scale_font.js` before compilation
- **Screen layout**: 20×12 tile grid (40×24 character grid)
- **Character codes**: Uses 0x80-0xD3 to avoid ASCII collision

## Files

### Main Game Files
- **duplicator_16x16.c** - Main game file (open this in 8bitworkshop)
- **duplicator_game.c** - Game logic (copied from parent directory, modified for 16x16)
- **duplicator_game.h** - Game structures and definitions

### Graphics Files
- **duplicator_graphics_16x16.h** - Pre-scaled 16×16 graphics (generated by scale_font.js)
- **duplicator_font.h** - Original 8×8 graphics (source for scaling)
- **duplicator_font_16x16.h** - Character code definitions for 16×16 tiles
- **scale_font.js** - Node.js script to generate scaled graphics

### Console I/O Files
- **duplicator_conio_16x16.c** - Console I/O implementation for 16×16 tiles
- **duplicator_conio_16x16.h** - Console I/O header
- **duplicator_tile_map_16x16.c** - Tile character mapping (e.g., '#' → TILE_WALL_TL)

## How to Use

### In 8bitworkshop

1. Open `duplicator_16x16.c` in 8bitworkshop
2. The game should compile and run with 16×16 graphics

### Regenerating Graphics

If you modify the 8×8 graphics in `duplicator_font.h`, regenerate the 16×16 graphics:

```bash
cd presets/atari8-800/sokobanc/duplicator_16x16
node scale_font.js
```

This will update `duplicator_graphics_16x16.h` with the new scaled graphics.

## Technical Details

### Tile Structure

Each 16×16 tile uses 4 consecutive character codes:
- **TL** (Top-Left): 8 bytes
- **TR** (Top-Right): 8 bytes
- **BL** (Bottom-Left): 8 bytes
- **BR** (Bottom-Right): 8 bytes
- **Total**: 32 bytes per tile

### Character Code Mapping

| Tile | Character Codes | Offset in Array |
|------|----------------|-----------------|
| Wall | 0x80-0x83 | 0 |
| Player | 0x84-0x87 | 32 |
| Crate | 0x88-0x8B | 64 |
| Key | 0x8C-0x8F | 96 |
| Door | 0x90-0x93 | 128 |
| Enemy | 0x94-0x97 | 160 |
| ... | ... | ... |

### Scaling Algorithm

The `scale_font.js` script scales each 8×8 tile to 16×16 by:
1. Doubling each pixel horizontally (1 bit → 2 bits)
2. Doubling each row vertically (1 row → 2 rows)
3. Splitting the result into 4 quadrants (TL, TR, BL, BR)

Example:
```
8×8 source:          16×16 result:
..##....             ....####........
..##....             ....####........
########             ....####........
########             ....####........
                     ################
                     ################
                     ################
                     ################
```

## Differences from 8×8 Version

1. **Graphics**: Pre-scaled to 16×16 instead of 8×8
2. **Screen layout**: 20×12 tiles instead of 40×24 tiles
3. **Drawing**: Each tile draws 4 characters instead of 1
4. **Character codes**: Uses 0x80-0xD3 instead of ASCII characters
5. **File organization**: Separate directory to avoid conflicts

## Notes

- The parent directory contains the original 8×8 version
- This version is completely independent and doesn't affect the 8×8 version
- Both versions share the same game logic (duplicator_game.c is copied and modified)

